{% extends "base.html" %}

{% block content %}
    {% if my_profile %}
      <a class="btn btn-lg btn-secondary" href="/become_author">Стать автором</a>
    {% else %}
      <h2>Профиль ученика {{title}}</h2>
    {% endif %}
    <h3 class="text-primary">Решённые задачи</h3>
    <table class="table">
      <thead class="thead-light">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Задача</th>
          <th scope="col">Сложность</th>
          <th scope="col">Решено</th>
          {% if my_profile %}
            <th scope="col">Нравится</th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
        {% for item in solved_problems %}
        <tr>
          <th scope="row"><a href="/problem/{{item.id}}" class="link-danger">{{item.id}}</a></th>
          <td><a href="/problem/{{item.id}}" class="link-success">{{item.title}}</a></td>
          <td>{{item.difficult}}%</td>
          <td>Solved*</td>
          {% if my_profile %}
            {% if item.id in fav_problems_id %}
              <td><a class="btn btn-secondary btn-sm" href="/liked/{{item.id}}">-</a></td>
            {% else %}
              <td><a class="btn btn-danger btn-sm" href="/liked/{{item.id}}">+</a></td>
            {% endif %}
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <h3 class="text-primary">Любимые задачи</h3>
    <table class="table">
      <thead class="thead-light">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Задача</th>
          <th scope="col">Сложность</th>
          <th scope="col">Решено</th>
        </tr>
      </thead>
      <tbody>
        {% for item in fav_problems %}
        <tr>
          <th scope="row"><a href="/problem/{{item.id}}" class="link-danger">{{item.problem.id}}</a></th>
          <td><a href="/problem/{{item.id}}" class="link-success">{{item.problem.title}}</a></td>
          <td>{{item.problem.difficult}}%</td>
          <td>Solved</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
{% endblock %}